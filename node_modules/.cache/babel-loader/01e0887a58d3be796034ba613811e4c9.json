{"ast":null,"code":"var _jsxFileName = \"/home/caiogiffoni/Documents/GitHub/M3/sprint-2/react-entrega-s2-kenzie-hub-caiogiffoni/src/Pages/Login/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { Box, Text, VStack, Flex, Button, Heading, useToast } from \"@chakra-ui/react\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\"; //import { addPointerEvent } from \"framer-motion\";\n\nimport api from \"../../services/api\";\nimport { InputDiv } from \"../../components/InputDiv\";\nimport { useHistory } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = _ref => {\n  _s();\n\n  var _errors$email, _errors$password;\n\n  let {\n    authenticated,\n    setAuthenticated\n  } = _ref;\n  const schema = yup.object().shape({\n    email: yup.string().required(\"Campo obrigatório\").email(\"Email inválido\"),\n    password: yup.string().required(\"Campo obrigatório\")\n  });\n  const history = useHistory();\n  const toast = useToast();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  if (authenticated) return /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/dashboard\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 29\n  }, this);\n\n  const onSubmitFunction = data => {\n    console.log(data); // retirar\n\n    api.post(\"/sessions\", data).then(res => {\n      toast({\n        title: \"Conta acessada.\",\n        status: \"success\",\n        isClosable: true\n      });\n      const {\n        token,\n        user\n      } = res.data;\n      localStorage.setItem(\"@KenzieHub:token\", JSON.stringify(token));\n      localStorage.setItem(\"@KenzieHub:user\", JSON.stringify(user));\n      setAuthenticated(true);\n      history.push(\"/dashboard\");\n    }).catch(err => {\n      toast({\n        title: err.response.data.message === \"Incorrect email / password combination\" ? \"Email ou senha incorretos.\" : err.response.data.message,\n        status: \"error\",\n        isClosable: true\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    width: \"100vw\",\n    height: \"100vh\",\n    bgColor: \"#121214\",\n    direction: \"column\",\n    justify: \"center\",\n    align: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      color: \"#FF577F\",\n      fontSize: \"xl\",\n      children: \"Kenzie Hub\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VStack, {\n      w: \"280px\",\n      h: \"450px\",\n      bgColor: \"#212529\",\n      p: \"15px 20px\",\n      borderRadius: \"4px\",\n      mt: \"10px\",\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        color: \"#FFF\",\n        fontSize: \"lg\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmitFunction),\n        children: [/*#__PURE__*/_jsxDEV(InputDiv, {\n          label: \"Email\",\n          name: \"email\",\n          register: register,\n          error: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message,\n          placeholder: \"Digite seu email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputDiv, {\n          label: \"Senha\",\n          name: \"password\",\n          register: register,\n          error: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message,\n          placeholder: \"Digite sua senha\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          w: \"100%\",\n          mt: \"20px\",\n          bgColor: \"#FF577F\",\n          color: \"#FFF\",\n          type: \"submit\",\n          borderRadius: \"4px\",\n          fontWeight: \"light\",\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        pt: \"30px\",\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          color: \"#868E96\",\n          fontSize: \"xs\",\n          children: \"Ainda n\\xE3o possui uma conta?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        isFullWidth: true,\n        bgColor: \"#868E96\",\n        color: \"#FFF\",\n        borderRadius: \"4px\",\n        fontWeight: \"light\",\n        onClick: () => history.push(\"/signin\"),\n        children: \"Cadastre-se\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"FfL5ee9f8No/WXUvrWbIauY920A=\", false, function () {\n  return [useHistory, useToast, useForm];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/caiogiffoni/Documents/GitHub/M3/sprint-2/react-entrega-s2-kenzie-hub-caiogiffoni/src/Pages/Login/index.jsx"],"names":["Box","Text","VStack","Flex","Button","Heading","useToast","useForm","yup","yupResolver","api","InputDiv","useHistory","Redirect","Login","authenticated","setAuthenticated","schema","object","shape","email","string","required","password","history","toast","register","handleSubmit","formState","errors","resolver","onSubmitFunction","data","console","log","post","then","res","title","status","isClosable","token","user","localStorage","setItem","JSON","stringify","push","catch","err","response","message"],"mappings":"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","sourcesContent":["import {\n  Box,\n  Text,\n  VStack,\n  Flex,\n  Button,\n  Heading,\n  useToast,\n} from \"@chakra-ui/react\";\n\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\n//import { addPointerEvent } from \"framer-motion\";\n\nimport api from \"../../services/api\";\n\nimport { InputDiv } from \"../../components/InputDiv\";\nimport { useHistory } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\n\nexport const Login = ({ authenticated, setAuthenticated }) => {\n  const schema = yup.object().shape({\n    email: yup.string().required(\"Campo obrigatório\").email(\"Email inválido\"),\n    password: yup.string().required(\"Campo obrigatório\"),\n  });\n\n  const history = useHistory();\n  const toast = useToast();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ resolver: yupResolver(schema) });\n\n  if (authenticated) return <Redirect to=\"/dashboard\" />;\n\n  const onSubmitFunction = (data) => {\n    console.log(data); // retirar\n    api\n      .post(\"/sessions\", data)\n      .then((res) => {\n        toast({\n          title: \"Conta acessada.\",\n          status: \"success\",\n          isClosable: true,\n        });\n        const { token, user } = res.data;\n        localStorage.setItem(\"@KenzieHub:token\", JSON.stringify(token));\n        localStorage.setItem(\"@KenzieHub:user\", JSON.stringify(user));\n        setAuthenticated(true);\n        history.push(\"/dashboard\");\n      })\n      .catch((err) => {\n        toast({\n          title:\n            err.response.data.message ===\n            \"Incorrect email / password combination\"\n              ? \"Email ou senha incorretos.\"\n              : err.response.data.message,\n          status: \"error\",\n          isClosable: true,\n        });\n      });\n  };\n\n  return (\n    <Flex\n      width=\"100vw\"\n      height=\"100vh\"\n      bgColor=\"#121214\"\n      direction=\"column\"\n      justify=\"center\"\n      align=\"center\"\n    >\n      <Heading color=\"#FF577F\" fontSize=\"xl\">\n        Kenzie Hub\n      </Heading>\n      <VStack\n        w=\"280px\"\n        h=\"450px\"\n        bgColor=\"#212529\"\n        p=\"15px 20px\"\n        borderRadius=\"4px\"\n        mt=\"10px\"\n      >\n        <Heading color=\"#FFF\" fontSize=\"lg\">\n          Login\n        </Heading>\n        <form onSubmit={handleSubmit(onSubmitFunction)}>\n          <InputDiv\n            label=\"Email\"\n            name=\"email\"\n            register={register}\n            error={errors.email?.message}\n            placeholder=\"Digite seu email\"\n          />\n          <InputDiv\n            label=\"Senha\"\n            name=\"password\"\n            register={register}\n            error={errors.password?.message}\n            placeholder=\"Digite sua senha\"\n          />\n\n          <Button\n            w=\"100%\"\n            mt=\"20px\"\n            bgColor=\"#FF577F\"\n            color=\"#FFF\"\n            type=\"submit\"\n            borderRadius=\"4px\"\n            fontWeight=\"light\"\n          >\n            Entrar\n          </Button>\n        </form>\n        <Box pt=\"30px\">\n          <Text color=\"#868E96\" fontSize=\"xs\">\n            Ainda não possui uma conta?\n          </Text>\n        </Box>\n        <Button\n          isFullWidth\n          bgColor=\"#868E96\"\n          color=\"#FFF\"\n          borderRadius=\"4px\"\n          fontWeight=\"light\"\n          onClick={() => history.push(\"/signin\")}\n        >\n          Cadastre-se\n        </Button>\n      </VStack>\n    </Flex>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}